<div class="flex flex-col">
  <header class="modal-header md:hidden flex w-full relative">
    <%= button_tag data: {
      action: "click->search#hideSearchBox"
    }, class: "absolute left-8 md:hidden hover:underline p-4 -ml-4 inline-flex content-center items-center" do %>
      <%= inline_svg_tag 'x', class: 'inline-block' %>
      <%= t("close") %>
    <% end %>
    <h2 class="font-bold text-center">
      <% if @active_personal_space_list.present? %>
        <%= t("personal_space_lists.chosen_list")  %>
      <% else %>
        <%= t('space_filter.edit_filter') %>
      <% end %>
    </h2>
  </header>

  <div id="<%= dom_id_for_active_list_updates_here %>" class="mx-8 mt-8 sticky top-4 z-5 mb-2 empty:hidden">
    <% if @active_personal_space_list.present? %>
        <%= render "personal_space_lists/card_for_spaces_index",
                   personal_space_list: @active_personal_space_list
        %>
    <% end %>
  </div>


  <% if @active_personal_space_list.present? %>
    <h2 class="md:hidden font-bold text-center mt-8">
        <%= t('space_filter.edit_filter') %>
    </h2>
  <% end %>

  <main class="p-8 pb-48 md:pb-8">
    <%= render partial: "spaces/index/search_form" %>
  </main>

  <footer class="fixed md:sr-only bottom-0 left-0 right-0 modal-footer">
    <%= button_tag data: {
      action: "click->search#hideSearchBox"
    }, class: "modal-button" do %>
      <%= inline_svg_tag 'search', class: 'inline-block' %>
      <%= t('space_filter.show_spaces', count: '') %>
    <% end %>
  </footer>
</div>
